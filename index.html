<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerGuard - UPS Management</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <!-- Login Page -->
    <div class="login-container" id="loginPage">
        <div class="login-box">
            <div class="login-header">
                <div class="login-logo">
                    <div class="login-logo-icon">‚ö°</div>
                    <h1>PowerGuard</h1>
                </div>
                <p class="login-subtitle">UPS Management System</p>
            </div>
            
            <form class="login-form" id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="username">üë§ Username</label>
                    <input type="text" id="username" name="username" placeholder="Enter your username" required>
                </div>
                
                <div class="form-group">
                    <label for="password">üîí Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter your password" required>
                </div>
                
                <div class="form-options">
                    <label class="remember-me">
                        <input type="checkbox" id="rememberMe">
                        <span>Remember me</span>
                    </label>
                    <a href="#" class="forgot-password">Forgot password?</a>
                </div>
                
                <button type="submit" class="login-btn">Sign In</button>
                
                <div class="login-footer">
                    <p>Default credentials: admin / admin123</p>
                </div>
            </form>
        </div>
    </div>

    <div class="container" id="mainApp" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">‚ö°</div>
                <div class="logo-text">
                    <h1>PowerGuard</h1>
                    <p>UPS Management</p>
                </div>
            </div>

            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">‚ö°</span>
                    <span>Energy Meter</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üì∫</span>
                    <span>UPS Devices</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üíß</span>
                    <span>Water Consumption</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üìã</span>
                    <span>Reports</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">üè∑Ô∏è</span>
                    <span>Asset Tagging</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="search-bar">
                    <span class="search-icon">üîç</span>
                    <input type="text" placeholder="Search devices, alerts...">
                </div>
                <div class="header-right">
                    <div class="notification">
                        <span class="notification-icon">üîî</span>
                        <span class="notification-badge">1</span>
                    </div>
                    <div class="user-profile">
                        <div class="user-avatar">üë§</div>
                        <div class="user-info">
                            <span class="user-name">Admin User</span>
                            <span class="user-role">Enterprise</span>
                        </div>
                        <button class="logout-btn" onclick="logout()" title="Logout">üîí Logout</button>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="dashboard-content" id="dashboardPage">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <p>Real-time overview of your infrastructure</p>
                </div>

                <!-- Dashboard Overview Sections -->
                <div class="dashboard-sections">
                    <!-- Energy Meter Summary -->
                    <div class="dashboard-section">
                        <div class="dashboard-section-header">
                            <h2>‚ö° Energy Meter</h2>
                            <a href="#" class="view-details-btn" onclick="navigateToPage(event, 'Energy Meter')">View Details ‚Üí</a>
                        </div>
                        <div class="dashboard-summary-grid">
                            <div class="summary-card">
                                <div class="summary-label">EB Running Unit</div>
                                <div class="summary-value" id="dashEbUnit">1234.56 kWh</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">EB Load</div>
                                <div class="summary-value" id="dashEbLoad">75.5%</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Generator Unit</div>
                                <div class="summary-value" id="dashGenUnit">856.43 kWh</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Generator Load</div>
                                <div class="summary-value" id="dashGenLoad">45.2%</div>
                            </div>
                        </div>
                    </div>

                    <!-- UPS Devices Summary -->
                    <div class="dashboard-section">
                        <div class="dashboard-section-header">
                            <h2>üì∫ UPS Devices</h2>
                            <a href="#" class="view-details-btn" onclick="navigateToPage(event, 'UPS Devices')">View Details ‚Üí</a>
                        </div>
                        <div class="dashboard-summary-grid">
                            <div class="summary-card">
                                <div class="summary-label">Total Devices</div>
                                <div class="summary-value" id="dashTotalUps">6</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Avg Voltage</div>
                                <div class="summary-value" id="dashAvgVoltage">230V</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Avg Load</div>
                                <div class="summary-value" id="dashAvgLoad">65.8%</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Total Runtime</div>
                                <div class="summary-value" id="dashTotalRuntime">225min</div>
                            </div>
                        </div>
                    </div>

                    <!-- Water Consumption Summary -->
                    <div class="dashboard-section">
                        <div class="dashboard-section-header">
                            <h2>üíß Water Consumption</h2>
                            <a href="#" class="view-details-btn" onclick="navigateToPage(event, 'Water Consumption')">View Details ‚Üí</a>
                        </div>
                        <div class="dashboard-summary-grid">
                            <div class="summary-card">
                                <div class="summary-label">Cafeteria</div>
                                <div class="summary-value" id="dashCafeteria">1,245 L</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Wash Area</div>
                                <div class="summary-value" id="dashWashArea">856 L</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Pantry</div>
                                <div class="summary-value" id="dashPantry">432 L</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Kitchen</div>
                                <div class="summary-value" id="dashKitchen">1,876 L</div>
                            </div>
                        </div>
                    </div>

                    <!-- Asset Tracking Summary -->
                    <div class="dashboard-section">
                        <div class="dashboard-section-header">
                            <h2>üè∑Ô∏è Asset Tracking</h2>
                            <a href="#" class="view-details-btn" onclick="navigateToPage(event, 'Asset Tagging')">View Details ‚Üí</a>
                        </div>
                        <div class="dashboard-summary-grid">
                            <div class="summary-card">
                                <div class="summary-label">Total Assets</div>
                                <div class="summary-value" id="dashTotalAssets">15</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Active</div>
                                <div class="summary-value" id="dashActiveAssets">12</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Maintenance</div>
                                <div class="summary-value" id="dashMaintenanceAssets">2</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-label">Inactive</div>
                                <div class="summary-value" id="dashInactiveAssets">1</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Energy Meter Page -->
            <div class="energy-meter-content" id="energyMeterPage" style="display: none;">
                <div class="page-header">
                    <h1>Energy Meter</h1>
                    <p>Real-time energy monitoring and consumption tracking</p>
                </div>

                <!-- EB Section -->
                <div class="energy-section">
                    <div class="section-header">
                        <div class="section-header-content">
                            <h2>üîå EB</h2>
                            <div class="header-right-controls">
                                <select class="model-selector" id="ebModelSelector" onchange="switchEBModel(this.value)">
                                    <option value="eb1">EB Main - Building A</option>
                                    <option value="eb2">EB Secondary - Building B</option>
                                    <option value="eb3">EB Backup - Building C</option>
                                    <option value="eb4">EB Floor 1 - East Wing</option>
                                    <option value="eb5">EB Floor 2 - West Wing</option>
                                </select>
                                <button class="toggle-btn" id="ebToggleBtn" onclick="toggleEnergySection('eb')">
                                    <span class="toggle-text">Show Less</span>
                                    <span class="toggle-icon">‚ñ≤</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="energy-metrics-grid" id="ebMetrics">
                        <!-- EB Running Unit Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">‚ö°</span>
                                <h3>Running Unit</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="ebRunningUnit">1234.56</div>
                                <div class="metric-unit">kWh</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-active">Active</span>
                            </div>
                        </div>

                        <!-- EB Load Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üìä</span>
                                <h3>Load</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="ebLoad">75.5</div>
                                <div class="metric-unit">%</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-normal">Normal</span>
                            </div>
                        </div>

                        <!-- EB Frequency Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üì°</span>
                                <h3>Frequency</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="ebFrequency">50.02</div>
                                <div class="metric-unit">Hz</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-normal">Normal</span>
                            </div>
                        </div>

                        <!-- EB Previous Unit Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üìÖ</span>
                                <h3>Previous Unit</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="ebPreviousUnit">998.32</div>
                                <div class="metric-unit">kWh</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-info">Last Month</span>
                            </div>
                        </div>

                        <!-- EB Power Factor Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">‚öôÔ∏è</span>
                                <h3>Power Factor</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="ebPowerFactor">0.95</div>
                                <div class="metric-unit">PF</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-good">Good</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Generator Section -->
                <div class="energy-section">
                    <div class="section-header">
                        <div class="section-header-content">
                            <h2>‚öôÔ∏è Generator</h2>
                            <div class="header-right-controls">
                                <select class="model-selector" id="genModelSelector" onchange="switchGeneratorModel(this.value)">
                                    <option value="gen1">Generator 1 - Main Building</option>
                                    <option value="gen2">Generator 2 - Backup</option>
                                    <option value="gen3">Generator 3 - Emergency</option>
                                    <option value="gen4">Generator 4 - Data Center</option>
                                </select>
                                <button class="toggle-btn" id="genToggleBtn" onclick="toggleGeneratorSection('gen')">
                                    <span class="toggle-text">Show Less</span>
                                    <span class="toggle-icon">‚ñ≤</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="energy-metrics-grid" id="genMetrics">
                        <!-- Generator Running Unit Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">‚ö°</span>
                                <h3>Running Unit</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="genRunningUnit">856.43</div>
                                <div class="metric-unit">kWh</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-active">Active</span>
                            </div>
                        </div>

                        <!-- Generator Load Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üìä</span>
                                <h3>Load</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="genLoad">45.2</div>
                                <div class="metric-unit">%</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-normal">Normal</span>
                            </div>
                        </div>

                        <!-- Generator Frequency Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üì°</span>
                                <h3>Frequency</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="genFrequency">50.01</div>
                                <div class="metric-unit">Hz</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-normal">Normal</span>
                            </div>
                        </div>

                        <!-- Generator Previous Unit Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">üìÖ</span>
                                <h3>Previous Unit</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="genPreviousUnit">723.18</div>
                                <div class="metric-unit">kWh</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-info">Last Month</span>
                            </div>
                        </div>

                        <!-- Generator Power Factor Card -->
                        <div class="metric-card">
                            <div class="metric-card-header">
                                <span class="metric-icon">‚öôÔ∏è</span>
                                <h3>Power Factor</h3>
                            </div>
                            <div class="metric-card-body">
                                <div class="metric-value" id="genPowerFactor">0.92</div>
                                <div class="metric-unit">PF</div>
                            </div>
                            <div class="metric-card-footer">
                                <span class="metric-status status-good">Good</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Water Consumption Page -->
            <div class="water-consumption-content" id="waterConsumptionPage" style="display: none;">
                <div class="page-header">
                    <h1>Water Consumption</h1>
                    <p>Track water usage across different areas of the facility</p>
                </div>

                <!-- Water Consumption Metrics Grid -->
                <div class="water-metrics-grid">
                    <!-- Cafeteria Card -->
                    <div class="water-card">
                        <div class="water-card-header">
                            <span class="water-icon">üçΩÔ∏è</span>
                            <h3>Cafeteria</h3>
                        </div>
                        <div class="water-card-body">
                            <div class="water-value" id="cafeteriaWater">1,245</div>
                            <div class="water-unit">Liters</div>
                        </div>
                        <div class="water-card-details">
                            <div class="detail-row">
                                <span class="detail-label">Today</span>
                                <span class="detail-value" id="cafeteriaToday">245 L</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">This Week</span>
                                <span class="detail-value" id="cafeteriaWeek">1,245 L</span>
                            </div>
                        </div>
                        <div class="water-card-footer">
                            <span class="consumption-status status-medium">Medium Usage</span>
                        </div>
                    </div>

                    <!-- Wash Area Card -->
                    <div class="water-card">
                        <div class="water-card-header">
                            <span class="water-icon">üöø</span>
                            <h3>Wash Area</h3>
                        </div>
                        <div class="water-card-body">
                            <div class="water-value" id="washAreaWater">856</div>
                            <div class="water-unit">Liters</div>
                        </div>
                        <div class="water-card-details">
                            <div class="detail-row">
                                <span class="detail-label">Today</span>
                                <span class="detail-value" id="washAreaToday">178 L</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">This Week</span>
                                <span class="detail-value" id="washAreaWeek">856 L</span>
                            </div>
                        </div>
                        <div class="water-card-footer">
                            <span class="consumption-status status-normal">Normal Usage</span>
                        </div>
                    </div>

                    <!-- Pantry Card -->
                    <div class="water-card">
                        <div class="water-card-header">
                            <span class="water-icon">‚òï</span>
                            <h3>Pantry</h3>
                        </div>
                        <div class="water-card-body">
                            <div class="water-value" id="pantryWater">432</div>
                            <div class="water-unit">Liters</div>
                        </div>
                        <div class="water-card-details">
                            <div class="detail-row">
                                <span class="detail-label">Today</span>
                                <span class="detail-value" id="pantryToday">89 L</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">This Week</span>
                                <span class="detail-value" id="pantryWeek">432 L</span>
                            </div>
                        </div>
                        <div class="water-card-footer">
                            <span class="consumption-status status-low">Low Usage</span>
                        </div>
                    </div>

                    <!-- Kitchen Card -->
                    <div class="water-card">
                        <div class="water-card-header">
                            <span class="water-icon">üç≥</span>
                            <h3>Kitchen</h3>
                        </div>
                        <div class="water-card-body">
                            <div class="water-value" id="kitchenWater">1,876</div>
                            <div class="water-unit">Liters</div>
                        </div>
                        <div class="water-card-details">
                            <div class="detail-row">
                                <span class="detail-label">Today</span>
                                <span class="detail-value" id="kitchenToday">312 L</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">This Week</span>
                                <span class="detail-value" id="kitchenWeek">1,876 L</span>
                            </div>
                        </div>
                        <div class="water-card-footer">
                            <span class="consumption-status status-high">High Usage</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- UPS Devices Page -->
            <div class="ups-devices-content" id="upsDevicesPage" style="display: none;">
                <div class="page-header">
                    <h1>UPS Devices</h1>
                    <p>Monitor and manage all UPS units across your infrastructure</p>
                </div>

                <div class="devices-table-container">
                    <table class="devices-table">
                        <thead>
                            <tr>
                                <th>Device ID</th>
                                <th>Model</th>
                                <th>Voltage</th>
                                <th>Current</th>
                                <th>Load</th>
                                <th>Runtime</th>
                                <th>Image</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="device-id">UPS-DC-001</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">APC Smart-UPS</div>
                                        <div class="model-spec">10kVA</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">43.5A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">62%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">45m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-001')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-id">UPS-DC-002</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">Eaton 9PX</div>
                                        <div class="model-spec">6kVA</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">26.1A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">85%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">18m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-002')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-id">UPS-DC-003</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">Vertiv Liebert</div>
                                        <div class="model-spec">GXT5</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">22.8A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">45%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">67m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-003')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-id">UPS-DC-004</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">Schneider Galaxy</div>
                                        <div class="model-spec">VS</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">15.2A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">78%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">8m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-004')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-id">UPS-DC-005</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">APC Smart-UPS</div>
                                        <div class="model-spec">8kVA</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">34.8A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">55%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">52m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-005')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="device-id">UPS-DC-006</td>
                                <td>
                                    <div class="model-info">
                                        <div class="model-name">Eaton 9PX</div>
                                        <div class="model-spec">5kVA</div>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚ö°</span>
                                        <span class="metric-value">230V</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üîå</span>
                                        <span class="metric-value">21.7A</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">üìä</span>
                                        <span class="metric-value">70%</span>
                                    </div>
                                </td>
                                <td>
                                    <div class="metric-info">
                                        <span class="metric-icon">‚è±Ô∏è</span>
                                        <span class="metric-value">35m</span>
                                    </div>
                                </td>
                                <td>
                                    <button class="btn-image" onclick="viewImage('UPS-DC-006')">
                                        <span>üñºÔ∏è</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Reports Page -->
            <div class="reports-content" id="reportsPage" style="display: none;">
                <div class="page-header">
                    <h1>Reports</h1>
                    <p>Generate and download comprehensive reports for your UPS infrastructure</p>
                </div>

                <div class="reports-layout">
                    <!-- Report Generation Section -->
                    <div class="report-generator">
                        <div class="section-header">
                            <h2>Generate New Report</h2>
                            <p>Select report type and parameters</p>
                        </div>

                        <div class="report-form">
                            <div class="form-group">
                                <label>Device Name</label>
                                <select class="form-select" id="reportType">
                                    <option value="ups-dc-001">UPS-DC-001</option>
                                    <option value="ups-dc-002">UPS-DC-002</option>
                                    <option value="ups-dc-003">UPS-DC-003</option>
                                    <option value="ups-dc-004">UPS-DC-004</option>
                                    <option value="ups-dc-005">UPS-DC-005</option>
                                    <option value="ups-dc-006">UPS-DC-006</option>
                                    <option value="all-devices">All Devices</option>
                                </select>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Start Date</label>
                                    <input type="date" class="form-input" id="startDate" value="2025-12-01">
                                </div>
                                <div class="form-group">
                                    <label>End Date</label>
                                    <input type="date" class="form-input" id="endDate" value="2026-01-02">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Export Format</label>
                                <div class="format-options">
                                    <label class="radio-label">
                                        <input type="radio" name="format" value="pdf" checked>
                                        <span class="radio-custom"></span>
                                        <span>PDF</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="format" value="excel">
                                        <span class="radio-custom"></span>
                                        <span>Excel</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="format" value="csv">
                                        <span class="radio-custom"></span>
                                        <span>CSV</span>
                                    </label>
                                </div>
                            </div>

                            <button class="btn-primary" onclick="generateReport()">
                                <span>üìä</span>
                                Generate Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Asset Tagging Page -->
            <div class="asset-tagging-content" id="assetTaggingPage" style="display: none;">
                <div class="page-header">
                    <h1>Asset Tagging</h1>
                    <p>Manage and track all assets with unique identifiers</p>
                </div>

                <!-- Asset Tagging Form -->
                <div class="asset-form-container">
                    <div class="asset-form-card">
                        <h2>üè∑Ô∏è Add New Asset</h2>
                        <form class="asset-form" id="assetForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Asset ID</label>
                                    <input type="text" id="assetId" placeholder="e.g., AST-001" required>
                                </div>
                                <div class="form-group">
                                    <label>Asset Name</label>
                                    <input type="text" id="assetName" placeholder="Enter asset name" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Category</label>
                                    <select id="assetCategory" required>
                                        <option value="">Select category</option>
                                        <option value="ups">UPS Device</option>
                                        <option value="energy">Energy Meter</option>
                                        <option value="water">Water Meter</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Location</label>
                                    <input type="text" id="assetLocation" placeholder="Enter location" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Purchase Date</label>
                                    <input type="date" id="assetPurchaseDate" required>
                                </div>
                                <div class="form-group">
                                    <label>Status</label>
                                    <select id="assetStatus" required>
                                        <option value="active">Active</option>
                                        <option value="maintenance">Maintenance</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Description</label>
                                <textarea id="assetDescription" rows="3" placeholder="Enter asset description"></textarea>
                            </div>
                            
                            <button type="submit" class="submit-asset-btn">Add Asset</button>
                        </form>
                    </div>
                </div>

                <!-- Assets List -->
                <div class="assets-list-container">
                    <h2>üìã Registered Assets</h2>
                    <div class="assets-table-wrapper">
                        <table class="assets-table">
                            <thead>
                                <tr>
                                    <th>Asset ID</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Location</th>
                                    <th>Purchase Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="assetsTableBody">
                                <tr>
                                    <td>AST-001</td>
                                    <td>UPS Main Building</td>
                                    <td><span class="category-badge category-ups">UPS Device</span></td>
                                    <td>Floor 1, Room 101</td>
                                    <td>2024-01-15</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td><button class="action-btn">Edit</button></td>
                                </tr>
                                <tr>
                                    <td>AST-002</td>
                                    <td>Energy Meter EB</td>
                                    <td><span class="category-badge category-energy">Energy Meter</span></td>
                                    <td>Main Entrance</td>
                                    <td>2024-02-20</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td><button class="action-btn">Edit</button></td>
                                </tr>
                                <tr>
                                    <td>AST-003</td>
                                    <td>Water Meter Cafeteria</td>
                                    <td><span class="category-badge category-water">Water Meter</span></td>
                                    <td>Cafeteria Area</td>
                                    <td>2024-03-10</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td><button class="action-btn">Edit</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div class="settings-content" id="settingsPage" style="display: none;">
                <div class="page-header">
                    <h1>Settings</h1>
                    <p>Configure your UPS management system preferences</p>
                </div>

                <div class="settings-container">
                    <!-- User Profile Section -->
                    <div class="settings-section">
                        <div class="section-header">
                            <h2>üë§ User Profile</h2>
                            <p>Manage your account information</p>
                        </div>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" class="form-input" value="Admin User" placeholder="Enter your name">
                            </div>
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" class="form-input" value="admin@powerguard.com" placeholder="Enter your email">
                            </div>
                            <div class="form-group">
                                <label>Role</label>
                                <select class="form-input">
                                    <option selected>Enterprise Admin</option>
                                    <option>Facility Manager</option>
                                    <option>Technician</option>
                                    <option>Viewer</option>
                                </select>
                            </div>
                            <button class="btn-secondary" onclick="saveUserProfile()">
                                <span>üíæ</span>
                                Save Profile
                            </button>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="settings-section">
                        <div class="section-header">
                            <h2>üîî Notification Preferences</h2>
                            <p>Control how you receive alerts</p>
                        </div>
                        <div class="settings-form">
                            <div class="toggle-group">
                                <div class="toggle-item">
                                    <div>
                                        <h4>Email Notifications</h4>
                                        <p>Receive alerts via email</p>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="toggle-item">
                                    <div>
                                        <h4>Critical Alerts Only</h4>
                                        <p>Only notify for critical issues</p>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="toggle-item">
                                    <div>
                                        <h4>Daily Summary Report</h4>
                                        <p>Receive daily system summary</p>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Preferences -->
                    <div class="settings-section">
                        <div class="section-header">
                            <h2>‚öôÔ∏è System Preferences</h2>
                            <p>Configure system behavior</p>
                        </div>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Data Refresh Interval</label>
                                <select class="form-input">
                                    <option>15 seconds</option>
                                    <option selected>30 seconds</option>
                                    <option>1 minute</option>
                                    <option>5 minutes</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Temperature Unit</label>
                                <select class="form-input">
                                    <option selected>Celsius (¬∞C)</option>
                                    <option>Fahrenheit (¬∞F)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Date Format</label>
                                <select class="form-input">
                                    <option selected>MM/DD/YYYY</option>
                                    <option>DD/MM/YYYY</option>
                                    <option>YYYY-MM-DD</option>
                                </select>
                            </div>
                            <button class="btn-secondary" onclick="saveSystemPreferences()">
                                <span>üíæ</span>
                                Save Preferences
                            </button>
                        </div>
                    </div>

                    <!-- Alert Thresholds -->
                    <div class="settings-section">
                        <div class="section-header">
                            <h2>‚ö†Ô∏è Alert Thresholds</h2>
                            <p>Set custom alert thresholds for monitoring</p>
                        </div>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>High Load Threshold (%)</label>
                                <input type="number" class="form-input" value="80" min="0" max="100">
                                <small>Alert when load exceeds this percentage</small>
                            </div>
                            <div class="form-group">
                                <label>Low Battery Threshold (%)</label>
                                <input type="number" class="form-input" value="20" min="0" max="100">
                                <small>Alert when battery falls below this level</small>
                            </div>
                            <div class="form-group">
                                <label>Temperature Warning (¬∞C)</label>
                                <input type="number" class="form-input" value="40" min="0" max="100">
                                <small>Alert when temperature exceeds this value</small>
                            </div>
                            <button class="btn-secondary" onclick="saveAlertThresholds()">
                                <span>üíæ</span>
                                Save Thresholds
                            </button>
                        </div>
                    </div>

                    <!-- Data Management -->
                    <div class="settings-section">
                        <div class="section-header">
                            <h2>üìä Data Management</h2>
                            <p>Manage your data and backups</p>
                        </div>
                        <div class="settings-form">
                            <div class="form-group">
                                <label>Google Sheets API Key</label>
                                <input type="password" class="form-input" value="AIzaSyARUcWQDXIFnYWpcIQDs-sH97bvPSmFg4o" placeholder="Enter API key">
                            </div>
                            <div class="form-group">
                                <label>Spreadsheet ID</label>
                                <input type="text" class="form-input" value="1TFjR4FcM4zcx2g1avGINxcwZMMb7eEvnun7BU_o6Hlk" placeholder="Enter Spreadsheet ID">
                            </div>
                            <button class="btn-secondary" onclick="saveDataSettings()">
                                <span>üíæ</span>
                                Save Data Settings
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal" onclick="closeImageModal()">
        <div class="image-modal-content" onclick="event.stopPropagation()">
            <span class="image-modal-close" onclick="closeImageModal()">&times;</span>
            <h3 id="imageModalTitle">Device Image</h3>
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 300px; gap: 20px; width: 100%;">
                <img id="imageModalImg" src="" alt="Device Image" style="display: none;">
                <iframe id="imageModalIframe" src="" style="display: none; width: 100%; height: 600px; border: none; border-radius: 8px;"></iframe>
                <p id="imageModalNoImage" style="display: none;">No image available for this device</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
